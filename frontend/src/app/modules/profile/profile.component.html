<mat-tab-group class="container bg-white">

  <mat-tab label="{{ 'profile.title' | translate:locale.language }}">
    <section class="container  py-3">
      <form [formGroup]="userProfileForm" (ngSubmit)="onSubmit()" class="user-profile-container">

        <mat-form-field class="form-group">
          <input matInput formControlName="username" [(ngModel)]="user.username" [readonly]="true" placeholder="{{ 'profile.username' | translate:locale.language }}">
        </mat-form-field>

        <mat-form-field class="form-group">
          <input matInput formControlName="email" [(ngModel)]="user.email" type="text" [readonly]="true" placeholder="{{ 'profile.email' | translate:locale.language }}">
        </mat-form-field>

        <mat-form-field class="form-group">
          <input matInput formControlName="first_name" [(ngModel)]="user.first_name" placeholder="{{ 'profile.first_name.placeholder' | translate:locale.language }}">
          <mat-error *ngIf="userProfileForm.controls.first_name.errors && (userProfileForm.controls.first_name.dirty || userProfileForm.controls.first_name.touched)">
            <mat-error *ngIf="userProfileForm.controls.first_name.errors.required">
              *{{ 'profile.first_name.required' | translate:locale.language }}
            </mat-error>
            <mat-error *ngIf="userProfileForm.controls.first_name.errors.maxlength">
              *{{ 'profile.first_name.max_length' | translate:locale.language }}
            </mat-error>
            <mat-error *ngIf="userProfileForm.controls.first_name.errors.pattern">
              *{{ 'profile.first_name.regex' | translate:locale.language }}
            </mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="form-group">
          <input matInput formControlName="last_name" [(ngModel)]="user.last_name" placeholder="{{ 'profile.last_name.placeholder' | translate:locale.language }}">
          <mat-error *ngIf="userProfileForm.controls.last_name.errors && (userProfileForm.controls.last_name.dirty || userProfileForm.controls.last_name.touched)">
            <mat-error *ngIf="userProfileForm.controls.last_name.errors.required">
              *{{ 'profile.last_name.required' | translate:locale.language }}
            </mat-error>
            <mat-error *ngIf="userProfileForm.controls.last_name.errors.maxlength">
              *{{ 'profile.last_name.max_length' | translate:locale.language }}
            </mat-error>
            <mat-error *ngIf="userProfileForm.controls.last_name.errors.pattern">
              *{{ 'profile.last_name.regex' | translate:locale.language }}
            </mat-error>
          </mat-error>
        </mat-form-field>

        <div *ngIf="errorMessage" class="error-message">
          {{errorMessage}}
        </div>

        <div>
          <h5 *ngIf="!user.role">{{ 'profile.not_organizer' | translate:locale.language }}</h5>
          <h5 *ngIf="user.role">{{ 'profile.organizer' | translate:locale.language }}</h5>
        </div>
        

        <div>
          <button mat-button [disabled]="userProfileForm.invalid" class="p-3">{{ 'profile.save' | translate:locale.language }}</button>
        </div>
      </form>
    </section>

  </mat-tab>
 
</mat-tab-group>
