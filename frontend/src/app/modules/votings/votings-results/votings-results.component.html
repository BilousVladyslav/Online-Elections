<div class="main bg-light p-3">
  <mat-progress-bar mode="query" *ngIf="!voting"></mat-progress-bar>
  <div class="container py-3 mx-auto" style="height: max-content;">
    <div *ngIf="voting" class="card rounded-lg p-3 shadw" style="height: max-content;">

      <div class="d-inline-block" *ngIf="voting">
        <h3 class="text-center mb-4">{{ voting.voting_title }}</h3>
        <h5 class="">{{ 'votings.page.description' | translate:locale.language }}:</h5>
        <p class="pl-4">{{ voting.voting_description }}</p>
        <h6>{{ 'votings.page.date_start' | translate:locale.language }}:</h6>
        <p class="pl-4">{{ voting.date_started | l10nDate:locale.language:{ dateStyle: 'full', timeStyle: 'short' } }}</p>
        <h6>{{ 'votings.page.date_finish' | translate:locale.language }}:</h6>
        <p class="pl-4">{{ voting.date_finished | l10nDate:locale.language:{ dateStyle: 'full', timeStyle: 'short' } }}</p>
        <p>{{ 'votings.page.organizer' | translate:locale.language }}: {{ voting.organizer }}</p>
      </div>

      <mat-divider></mat-divider>
      <div *ngIf="postfix == 'finished'">
        <mat-progress-bar mode="query" *ngIf="!results"></mat-progress-bar>
        <div *ngIf="results">
          <h5 class="text-center p-3"> {{ 'votings.page.results' | translate:locale.language }}.</h5>

          <div *ngFor="let question of results">
            <mat-card class="mx-3 my-4">
              <mat-card-header>
                <mat-card-title>{{question.question_text}}</mat-card-title>
                <mat-card-subtitle>{{ 'votings.page.max_answers' | translate:locale.language }}: {{question.max_answers}}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                <p *ngFor="let choice of question.choices"><strong>{{choice.votes}}</strong>: {{choice.choice_text}}</p>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>

      <div *ngIf="postfix != 'finished'">
        <h5 class="text-center p-3"> {{ 'votings.page.coming' | translate:locale.language }}.</h5>
      </div>

    </div>
  </div>
</div>
